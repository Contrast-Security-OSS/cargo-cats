# Use OpenJDK 11 as the base image
FROM openjdk:11-jre-slim

# Set working directory
WORKDIR /app

# Install curl to download the jar file
RUN apt-get update && \
    apt-get install -y curl && \
    apt-get clean && \
    rm -rf /var/lib/apt/lists/*

# Download the JNDI-Exploit-Kit jar file
RUN curl -L -o JNDI-Exploit-Kit-1.0-SNAPSHOT-all.jar \
    https://github.com/pimps/JNDI-Exploit-Kit/raw/master/target/JNDI-Exploit-Kit-1.0-SNAPSHOT-all.jar

# Expose common ports that the exploit kit might use
EXPOSE 1389 8180 9999

# Run the JNDI-Exploit-Kit
CMD ["java", "-jar", "JNDI-Exploit-Kit-1.0-SNAPSHOT-all.jar"]